# 16) 오픈 이슈 (결정 필요하지만, MVP는 가정으로 진행)

## 개요

MVP 개발을 진행하기 위해 결정이 필요하지만, 현재는 가정으로 진행하는 오픈 이슈들을 정리한다. 향후 결정이 필요할 때 참고할 수 있도록 명확히 기록한다.

---

## 16.1 커스텀 도메인(CNAME) MVP 포함 범위

### 이슈
커스텀 도메인(CNAME) 기능을 MVP에 포함할지, 포함한다면 어느 정도까지 포함할지 결정이 필요하다.

### 옵션

#### 옵션 1: UI만 제공 (채택)
- **내용**: 
  - 설정 화면에 커스텀 도메인 입력 필드 제공
  - 실제 연결은 "추후 제공" 또는 "베타 (운영 지원)"으로 안내
- **장점**: 
  - MVP 개발 시간 단축
  - 복잡한 DNS 설정 로직 불필요
- **단점**: 
  - 사용자가 실제로 사용할 수 없음
  - 완성도가 낮아 보일 수 있음
- **결정**: MVP에서는 이 옵션 채택

#### 옵션 2: 베타 기능으로 제공
- **내용**: 
  - 실제 CNAME 연결 기능 제공
  - 운영자가 수동으로 DNS 설정 지원
- **장점**: 
  - 일부 사용자는 실제로 사용 가능
- **단점**: 
  - 운영 지원 비용 발생
  - 자동화되지 않아 확장성 낮음
- **결정**: MVP 후 검토

#### 옵션 3: 완전 자동화 (제외)
- **내용**: 
  - DNS 설정 자동화
  - SSL 인증서 자동 발급
- **장점**: 
  - 사용자 경험이 좋음
- **단점**: 
  - 구현 복잡도 매우 높음
  - MVP 범위 초과
- **결정**: MVP에서 제외

### 현재 가정
- MVP에서는 UI만 제공
- "추후 제공 예정" 또는 "베타 기능 (운영 지원)" 안내
- 실제 연결 기능은 MVP 이후 우선순위 조정

---

## 16.2 iframe 내부 키워드 블랙아웃의 현실적 구현 범위

### 이슈
키워드 블랙아웃 기능의 구현 범위와 안정성을 결정해야 한다.

### 기술적 제약
- **CORS (Cross-Origin Resource Sharing)**: Notion iframe이 다른 도메인이면 접근 불가
- **SOP (Same-Origin Policy)**: iframe 내부 DOM에 직접 접근할 수 없음

### 옵션

#### 옵션 1: Best-effort + 폴백 (채택)
- **내용**: 
  - 키워드 블랙아웃 시도
  - 실패 시 Section Blur로 자동 폴백
  - 베타 기능으로 제공
- **장점**: 
  - 가능한 경우에는 작동
  - 실패해도 안정적으로 폴백
- **단점**: 
  - 안정성이 낮음
  - 사용자 경험이 일관되지 않을 수 있음
- **결정**: MVP에서는 이 옵션 채택

#### 옵션 2: Proxy 서버를 통한 Same-Origin 렌더링
- **내용**: 
  - Notion 콘텐츠를 Proxy 서버를 통해 same-origin으로 렌더링
  - iframe 내부 DOM 접근 가능
- **장점**: 
  - 안정적으로 키워드 블랙아웃 구현 가능
- **단점**: 
  - 구현 복잡도 매우 높음
  - Proxy 서버 운영 비용
  - Notion 서비스 약관 위반 가능성
  - MVP 범위 초과
- **결정**: MVP에서 제외, 추후 검토

#### 옵션 3: Notion API 활용
- **내용**: 
  - Notion API를 통해 콘텐츠를 가져와서 자체 렌더링
  - 키워드 블랙아웃 적용 후 표시
- **장점**: 
  - 완전한 제어 가능
- **단점**: 
  - Notion API는 공개 링크 외에도 지원 필요
  - 렌더링 로직 복잡
  - MVP 범위 초과
- **결정**: MVP에서 제외, 추후 검토

#### 옵션 4: 키워드 블랙아웃 완전 제외
- **내용**: 
  - MVP에서 키워드 블랙아웃 기능 제외
  - Section Blur와 Preview-Then-Blur만 제공
- **장점**: 
  - 구현 단순화
  - 안정성 확보
- **단점**: 
  - 기능 다양성 감소
- **결정**: 베타 기능으로 포함하는 것이 더 나음

### 현재 가정
- MVP에서는 Best-effort + 폴백 방식 채택
- 베타 기능으로 제공하고 안정성 경고 표시
- 실패 시 Section Blur로 자동 폴백
- 향후 Proxy 서버 방식 검토

---

## 16.3 이메일 인증 MVP 포함 여부

### 이슈
사용자 가입 시 이메일 인증을 MVP에 포함할지 결정이 필요하다.

### 옵션

#### 옵션 1: 제외 (채택)
- **내용**: 
  - 이메일과 패스워드만으로 가입
  - 이메일 인증 단계 생략
- **장점**: 
  - 가입 과정 단순화
  - 개발 시간 단축
  - 사용자 마찰 감소
- **단점**: 
  - 가짜 이메일로 가입 가능
  - 스팸 계정 생성 가능
- **결정**: MVP에서는 이 옵션 채택

#### 옵션 2: 포함
- **내용**: 
  - 가입 시 이메일 인증 메일 발송
  - 인증 완료 후 계정 활성화
- **장점**: 
  - 가짜 이메일 방지
  - 보안 강화
- **단점**: 
  - 가입 과정 복잡화
  - 이메일 발송 서비스 필요 (SendGrid, AWS SES 등)
  - 개발 시간 증가
- **결정**: MVP에서 제외, 추후 추가

### 현재 가정
- MVP에서는 이메일 인증 제외
- 구조는 추후 추가 가능하도록 설계
- 계정 보안은 비밀번호 강도와 Rate Limiting으로 보완

---

## 16.4 분석 도구 통합 MVP 포함 여부

### 이슈
Google Analytics, Mixpanel 등 외부 분석 도구 통합을 MVP에 포함할지 결정이 필요하다.

### 옵션

#### 옵션 1: 제외 (채택)
- **내용**: 
  - 자체 이벤트 로그만 수집
  - 기본 대시보드만 제공
- **장점**: 
  - 개발 시간 단축
  - 외부 서비스 의존성 없음
- **단점**: 
  - 분석 기능 제한적
- **결정**: MVP에서는 이 옵션 채택

#### 옵션 2: Google Analytics 통합
- **내용**: 
  - Google Analytics 이벤트 전송
  - Google Analytics 대시보드 활용
- **장점**: 
  - 강력한 분석 기능
  - 무료 플랜 사용 가능
- **단점**: 
  - 프라이버시 정책 고려 필요
  - 개발 시간 증가
- **결정**: MVP에서 제외, 추후 추가 가능

#### 옵션 3: Mixpanel 통합
- **내용**: 
  - Mixpanel 이벤트 전송
  - Mixpanel 대시보드 활용
- **장점**: 
  - 사용자 행동 분석에 특화
- **단점**: 
  - 유료 서비스 (무료 플랜 제한적)
  - 개발 시간 증가
- **결정**: MVP에서 제외, 추후 추가 가능

### 현재 가정
- MVP에서는 자체 이벤트 로그만 수집
- 기본 대시보드 제공
- 추후 외부 분석 도구 통합 가능하도록 구조 설계

---

## 16.5 Webhook 큐 시스템 MVP 포함 여부

### 이슈
Webhook 전송을 비동기 큐 시스템으로 구현할지, 아니면 동기적으로 처리할지 결정이 필요하다.

### 옵션

#### 옵션 1: 단순 리트라이 (채택)
- **내용**: 
  - 동기적으로 Webhook 전송
  - 실패 시 최대 2회 리트라이
  - 에러 로깅
- **장점**: 
  - 구현 단순
  - 추가 인프라 불필요
- **단점**: 
  - Webhook 전송 지연 시 리드 제출 응답 지연
  - 높은 부하 시 확장성 제한
- **결정**: MVP에서는 이 옵션 채택

#### 옵션 2: 비동기 큐 시스템
- **내용**: 
  - Redis Queue 또는 Bull 사용
  - 백그라운드에서 Webhook 전송
  - 재시도 로직 고도화
- **장점**: 
  - 리드 제출 응답 속도 향상
  - 확장성 좋음
  - 재시도 로직 고도화 가능
- **단점**: 
  - 구현 복잡도 증가
  - Redis 등 추가 인프라 필요
  - MVP 범위 초과
- **결정**: MVP에서 제외, 추후 추가

### 현재 가정
- MVP에서는 단순 리트라이 방식 채택
- 리드 제출은 빠르게 응답하고 Webhook은 백그라운드에서 처리 (가능한 범위)
- 추후 큐 시스템 도입 검토

---

## 16.6 데이터 보관 정책

### 이슈
리드 데이터를 얼마나 오래 보관할지, 삭제 정책은 어떻게 할지 결정이 필요하다.

### 옵션

#### 옵션 1: 프로젝트 삭제 시까지 보관 (채택)
- **내용**: 
  - 프로젝트가 삭제되기 전까지 리드 데이터 보관
  - 사용자 요청 시 삭제 (추후 추가)
- **장점**: 
  - 구현 단순
  - 운영자가 원하는 만큼 보관
- **단점**: 
  - 데이터가 계속 쌓임
  - GDPR 등 규정 고려 필요
- **결정**: MVP에서는 이 옵션 채택

#### 옵션 2: 자동 삭제 정책
- **내용**: 
  - 일정 기간(예: 1년) 후 자동 삭제
  - 또는 프로젝트 비활성화 후 일정 기간 후 삭제
- **장점**: 
  - 데이터 용량 관리
  - GDPR 준수 용이
- **단점**: 
  - 구현 복잡도 증가
  - 운영자가 원하지 않는 삭제 가능
- **결정**: MVP에서 제외, 추후 검토

### 현재 가정
- MVP에서는 프로젝트 삭제 시까지 보관
- 사용자 요청 시 삭제 기능은 추후 추가
- GDPR 준수를 위한 삭제 기능은 우선순위 조정 필요

---

## 16.7 결제 및 유료화

### 이슈
MVP에서 유료화 기능을 포함할지 결정이 필요하다. (요구사항에 "추후 유료화도 고려"라고 명시됨)

### 옵션

#### 옵션 1: 제외 (채택)
- **내용**: 
  - MVP에서는 무료로 제공
  - 유료화는 추후 추가
- **장점**: 
  - 개발 시간 단축
  - MVP 검증 후 유료화 모델 결정 가능
- **단점**: 
  - 수익 모델 검증 불가
- **결정**: MVP에서는 이 옵션 채택

#### 옵션 2: 베타 유료화
- **내용**: 
  - 기본 플랜은 무료
  - 프로 플랜은 유료 (제한된 기능)
- **장점**: 
  - 수익 모델 조기 검증
- **단점**: 
  - 구현 복잡도 증가
  - 결제 시스템 통합 필요
- **결정**: MVP에서 제외, 추후 추가

### 현재 가정
- MVP에서는 무료로 제공
- 구조는 추후 유료화 가능하도록 설계 (예: 사용량 제한 필드 추가)
- 유료화 모델은 MVP 검증 후 결정

---

## 16.8 다국어 지원

### 이슈
MVP에서 다국어 지원을 포함할지 결정이 필요하다.

### 옵션

#### 옵션 1: 한국어 + 영어 (기본) (채택)
- **내용**: 
  - 한국어와 영어만 지원
  - 또는 영어만 지원 (한국어는 추후)
- **장점**: 
  - 구현 단순
  - 개발 시간 단축
- **단점**: 
  - 글로벌 확장 제한
- **결정**: MVP에서는 한국어 + 영어 (또는 영어만) 채택

#### 옵션 2: i18n 시스템 구축
- **내용**: 
  - i18n 라이브러리 사용
  - 다국어 지원 구조 구축
- **장점**: 
  - 확장성 좋음
- **단점**: 
  - 초기 개발 시간 증가
  - 번역 작업 필요
- **결정**: MVP에서 제외, 추후 추가

### 현재 가정
- MVP에서는 한국어 + 영어 (또는 영어만) 지원
- 구조는 추후 i18n 추가 가능하도록 설계
- 다국어 지원은 글로벌 확장 시 추가

---

## 16.9 최종 정리: 오픈 이슈 결정 요약

| 이슈 | MVP 결정 | 추후 검토 |
|------|---------|----------|
| **커스텀 도메인** | UI만 제공 | 실제 연결 기능 |
| **키워드 블랙아웃** | Best-effort + 폴백 | Proxy 서버 방식 |
| **이메일 인증** | 제외 | 추후 추가 |
| **분석 도구 통합** | 제외 | Google Analytics 등 |
| **Webhook 큐 시스템** | 단순 리트라이 | 비동기 큐 시스템 |
| **데이터 보관 정책** | 프로젝트 삭제 시까지 | 자동 삭제 정책 |
| **유료화** | 제외 | 유료화 모델 검토 |
| **다국어 지원** | 한국어 + 영어 | i18n 시스템 |

---

## 16.10 향후 결정 필요 시점

### MVP 런칭 후
- 사용자 피드백 수집
- 실제 사용 패턴 분석
- 우선순위 재조정

### 주요 검토 항목
1. 커스텀 도메인 요구도
2. 키워드 블랙아웃 안정성 개선 필요성
3. 이메일 인증 필요성 (스팸 계정 문제)
4. 분석 도구 통합 필요성
5. Webhook 큐 시스템 필요성 (부하 상황)
6. 데이터 보관 정책 (GDPR 준수)
7. 유료화 모델 수립
8. 다국어 지원 필요성






